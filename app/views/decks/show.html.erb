<%= link_to "Home Page", root_path %>

<% if current_user %>
    <%= link_to "Profile Page", user_path(current_user) %>
    <%= link_to "Log Out", logout_path %> <br>
<% else %>
    <%= link_to "Sign Up", signup_path %>
    <%= link_to "Login", login_path %> <br>
<% end %>
<%= link_to "View all public decks", decks_path %> <br>

<h2> <%= @deck.title %> </h2>
<%= @deck.description %> <br>
Originally created by: <%= @deck.player_name %> <br>

    <% if @deck.shared = true %>
        This deck is public. <br>
    <% else %>
        This deck is private. <br>
    <% end %>

    <% if current_user %>
        <% if @deck.player_name == current_user.name %>
            <%= link_to "Edit this deck?", edit_deck_path(@deck) %> 
        <% elsif @deck.users.find_by(id: current_user.id) %>
            <%= link_to "Delete deck from your collection?", delete_deck_path(@deck) %> <br> 
        <% elsif !@deck.users.find_by(id: current_user.id) %>
            <%= link_to "Copy deck?", copy_deck_path(@deck) %> <br>
        <% end %>
    <% end %>

<br>

<h3> Decklist </h3>

<table style="width:85%">
  <tr>
    <td> <h4> Count </h4> </td>
    <td> <h4> Card Name </h4> </td> 
    <td> <h4> Set & Collection Number </h4> </td>
  </tr>

    <td> Pokemon <%= @deck_counts[0] %> </td>
    <% @deck.cards.each do |card| %>
        <% if card.pokemon %>
            <tr>
                <td> <%= card.count %> </td>
                <td> <%= card.name %> </td>
                <td> <%= card.set_info %> </td>
            </tr>
        <% end %>
    <% end %> 

    <td> Trainer <%= @deck_counts[1] %> </td> 
    <% @deck.cards.each do |card| %>
        <% if card.trainer %>
            <tr>
                <td> <%= card.count %> </td>
                <td> <%= card.name %> </td>
                <td> <%= card.set_info %> </td>
            </tr>
        <% end %>
    <% end %> 

    <td> Energy <%= @deck_counts[2] %> </td> 
    <% @deck.cards.each do |card| %>
        <% if card.special_energy || card.basic_energy %>
            <tr>
                <td> <%= card.count %> </td>
                <td> <%= card.name %> </td>
                <td> <%= card.set_info %> </td>
            </tr>
        <% end %>
    <% end %> 
  
</table>
